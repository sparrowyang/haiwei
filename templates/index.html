<!doctype html>
<html lang="zh-cmn-Hans">
  <head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <!-- MDUI CSS -->
    <link rel="stylesheet"  href="{% static "/css/mdui.min.css" %}" />
    <link rel="stylesheet"  href="{% static "/css/custom.css" %}" />
	<link rel="stylesheet"  href="{% static "/css/animate.min.css" %}" />
    <title>{{ title }}</title>
  </head>
	<body class=" mdui-drawer-body-left mdui-drawer-body-right">

<div class=" mdui-toolbar mdui-color-theme mdui-color-blue-200">
  <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
  <span class="mdui-typo-title">{{ title }}</span>
  <div class="mdui-toolbar-spacer"></div>
  <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>
  <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">refresh</i></a>
  <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">more_vert</i></a>
</div>
  

  <!-- 显示界面 -->
    <div class="food_item">
        <!-- 内容由js 加载出来-->
    </div>



  <!-- END显示界面 -->

  <!-- 中间按钮 -->
    <button id="random_bt" class="mdui-fab mdui-color-theme-accent mdui-ripple" onclick="load_all()"><i class="mdui-icon material-icons">refresh</i></button>
  <!-- END中间按钮 -->



  <!-- 左下角按钮 -->
	<div class="mdui-fab-wrapper " mdui-fab="{trigger: 'hover'}" >
	  <button class="mdui-fab mdui-ripple mdui-color-theme-accent" id="menu_bt">
		<!-- 默认显示的图标 -->
		<i class="mdui-icon material-icons">expand_more</i>
		<!-- 在拨号菜单开始打开时，平滑切换到该图标，若不需要切换图标，则可以省略该元素 -->
		<i class="mdui-icon mdui-fab-opened material-icons">expand_less</i>
	  </button>
	  <div class="mdui-fab-dial">
		<button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-pink" onclick="load_all()"><i class="mdui-icon material-icons">backup</i></button>
		<button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-red"><i class="mdui-icon material-icons">bookmark</i></button>
		<button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-orange"><i class="mdui-icon material-icons">access_alarms</i></button>
		<button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-blue"><i class="mdui-icon material-icons">touch_app</i></button>
	  </div>
	</div>
  <!-- END左下角按钮 -->
    <!-- MDUI JavaScript -->
    <script src="{% static "js/mdui.min.js" %}"></script>
    <script src="{% static "js/jquery.min.js" %}"></script>
    <script src="{% static "js/custom.js" %}"></script>


    <script type="text/javascript">
        function load_all(){
            $.getJSON("api/v1/loadall",function(data){
                var items = data['items'];
				
				$(".div_item").remove();
                $.each(items, function(i, field){
                    var docs = '<div class="div_item animate__animated animate__bounceInLeft mdui-grid-tile"><a href="javascript:;"><img ';
                    var img = 'src="/static/uploads/'+field['imgid'] +'.jpg"/></a>';
                    var content = '<div class="mdui-grid-tile-actions"><div class="mdui-grid-tile-text">';
                    var title = '<div class="mdui-grid-tile-title">'+field['fname']+'</div>';
                    var statement = '<div class="mdui-grid-tile-subtitle"><i class="mdui-icon material-icons">grid_on</i>'+field['taste']+'</div>';
                    var close = '</div></div></div>';
                    var app = docs + img + content + title + statement + close;
                    $(".food_item").append(app);
                });


            });
        }
    </script>
  </body>
</html>